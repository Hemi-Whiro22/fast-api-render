import os, json, yaml
from pathlib import Path
import json
import os
from pathlib import Path
from dotenv import load_dotenv

def load_mauri_manifest():
    """Locate and load Rongohia's mauri manifest"""
    mauri_path = Path(__file__).resolve().parent.parent / ".mauri" / "rongohia" / "mauri.json"
    env_path = Path(__file__).resolve().parent.parent / ".mauri" / "rongohia" / ".env"

    if mauri_path.exists():
        # Load environment first
        if env_path.exists():
            load_dotenv(env_path)
        else:
            print("âš ï¸ No .env file found for Rongohia")

        # Load manifest JSON
        with open(mauri_path, "r", encoding="utf-8") as f:
            manifest = json.load(f)

        print(f"ğŸŒ€ Glyph: {manifest.get('glyph', 'â”')}")
        print(f"ğŸŒ™ Kaitiaki: {manifest.get('name', 'Unknown')} ready â€” mana aligned")

        # Optional debug: show linked Supabase
        supabase_url = os.getenv("SUPABASE_URL")
        if supabase_url:
            print(f"ğŸŒ Supabase connected â†’ {supabase_url}")
        else:
            print("âš ï¸ Supabase URL missing or not loaded")

    else:
        print("âš ï¸ No mauri manifest found at .mauri/rongohia/mauri.json")


if __name__ == "__main__":
    load_mauri_manifest()
import json
import os
from pathlib import Path
from dotenv import load_dotenv

def load_mauri_manifest():
    """Locate and load Rongohia's mauri manifest"""
    mauri_path = Path(__file__).resolve().parent.parent / ".mauri" / "rongohia" / "mauri.json"
    env_path = Path(__file__).resolve().parent.parent / ".mauri" / "rongohia" / ".env"

    if mauri_path.exists():
        # Load environment first
        if env_path.exists():
            load_dotenv(env_path)
        else:
            print("âš ï¸ No .env file found for Rongohia")

        # Load manifest JSON
        with open(mauri_path, "r", encoding="utf-8") as f:
            manifest = json.load(f)

        print(f"ğŸŒ€ Glyph: {manifest.get('glyph', 'â”')}")
        print(f"ğŸŒ™ Kaitiaki: {manifest.get('name', 'Unknown')} ready â€” mana aligned")

        # Optional debug: show linked Supabase
        supabase_url = os.getenv("SUPABASE_URL")
        if supabase_url:
            print(f"ğŸŒ Supabase connected â†’ {supabase_url}")
        else:
            print("âš ï¸ Supabase URL missing or not loaded")

    else:
        print("âš ï¸ No mauri manifest found at .mauri/rongohia/mauri.json")


if __name__ == "__main__":
    load_mauri_manifest()
import json
import os
from pathlib import Path
from dotenv import load_dotenv

def load_mauri_manifest():
    """Locate and load Rongohia's mauri manifest"""
    mauri_path = Path(__file__).resolve().parent.parent / ".mauri" / "rongohia" / "mauri.json"
    env_path = Path(__file__).resolve().parent.parent / ".mauri" / "rongohia" / ".env"

    if mauri_path.exists():
        # Load environment first
        if env_path.exists():
            load_dotenv(env_path)
        else:
            print("âš ï¸ No .env file found for Rongohia")

        # Load manifest JSON
        with open(mauri_path, "r", encoding="utf-8") as f:
            manifest = json.load(f)

        print(f"ğŸŒ€ Glyph: {manifest.get('glyph', 'â”')}")
        print(f"ğŸŒ™ Kaitiaki: {manifest.get('name', 'Unknown')} ready â€” mana aligned")

        # Optional debug: show linked Supabase
        supabase_url = os.getenv("SUPABASE_URL")
        if supabase_url:
            print(f"ğŸŒ Supabase connected â†’ {supabase_url}")
        else:
            print("âš ï¸ Supabase URL missing or not loaded")

    else:
        print("âš ï¸ No mauri manifest found at .mauri/rongohia/mauri.json")


if __name__ == "__main__":
    load_mauri_manifest()
rom dotenv import load_dotenv

def load_mauri(kaitiaki_name: str = "rongohia") -> dict:
    base_path = Path(__file__).parent.parent / ".mauri" / kaitiaki_name
    env_file, mauri_json, config_yaml = base_path / ".env", base_path / "mauri.json", base_path / "config.yaml"

    # ğŸŒ¿ Load environment
    if env_file.exists():
        load_dotenv(dotenv_path=env_file)
        print(f"ğŸŒ¿ Loaded {kaitiaki_name} env from {env_file}")
    else:
        print(f"âš ï¸ No .env found for {kaitiaki_name}")

    meta = {}
    if mauri_json.exists():
        meta.update(json.load(open(mauri_json, encoding="utf-8")))
    if config_yaml.exists():
        meta.update(yaml.safe_load(open(config_yaml, encoding="utf-8")))
    meta["mauri_path"] = str(base_path)
    meta["glyph_file"] = str(base_path / "glyph.svg")
    return meta
if __name__ == "__main__":
    print("mauri_loader ran successfully")
